# react-router config, for URL routing (not to be confused with multimodal/OTP routing)
#reactRouter:
  # If app is to be deployed to a URL subdirectory (e.g. http://foo.bar/app), specify the path here:
  #basename: map

branding: trimet
homeTimezone: America/Los_Angeles
title: TriMet MOD OTP Demo

# Default OTP API
api:
  host: https://fdot-otp-server.ibi-transit.com
  # host: http://localhost:8001 # For testing against a local OTP instance
  path: /otp/routers/default
# Alternate TransitIndex API
alternateTransitIndex:
 apiRoot: https://newplanner.trimet.org/ws/ti/v0/
 services:
    - stops
    - stops/routes
    - routes
# Enabled multimodal routing types (e.g. interary, profile)
routingTypes:
  - key: ITINERARY
    text: Exact Time
# Show/hide elevation profile chart for walk/bike legs
elevationProfile: true

# Provide a list of operators to enhance the user experience for multi-agency
# implementations. The order of the agencies will dictate the order that routes
# appear in the route viewer. Also, optionally provide operator logos to appear
# in narrative itinerary (matched on agency_id). Note: these logos will
# override the values found in agency.txt#agency_branding_url.
transitOperators:
  - id: psc
    logo: https://d2tyb7byn1fef9.cloudfront.net/psc.png
  - id: TRIMET
    name: TriMet
    logo: http://news.trimet.org/wordpress/wp-content/uploads/2019/04/TriMet-logo-300x300.png
  - id: TRAM
    logo: https://d2tyb7byn1fef9.cloudfront.net/tram.png
    # There are multiple C-TRAN operators listed here because the agency's GTFS feed does
    # not come with agency_id filled. We're accounting for multiple cases where the
    # agency_id could be auto-generated by OTP.
  - id: CTRAN
    name: C-TRAN
    logo: https://d2tyb7byn1fef9.cloudfront.net/ctran.png
    order: 9999999
  - id: '1' # accidentally forgot to add C-TRAN agency_id to routes.
    name: C-TRAN
    logo: https://d2tyb7byn1fef9.cloudfront.net/ctran.png
    order: 9999999
  - id: '2' # accidentally forgot to add C-TRAN agency_id to routes.
    name: C-TRAN
    logo: https://d2tyb7byn1fef9.cloudfront.net/ctran.png
    defaultRouteColor: ffffff
    defaultRouteTextColor: '000000'
    longNameSplitter: ' - '
    order: 9999999

# Add suggested locations to be shown as options in the form view.
# locations:
#   - id: 'airport'
#     icon: 'plane'
#     name: 'Portland International Airport (PDX)'
#     lat: 45.587579
#     lon: -122.593084
#   - id: 'zoo'
#     icon: building
#     lat: 45.51010444232195
#     lon: -122.71607145667079
#     name: Oregon Zoo, Portland, OR

### The persistence setting is used to enable the storage of places (home, work),
### recent searches/places, user overrides, and favorite stops.
persistence:
  enabled: true
  strategy: otp_middleware
  auth0:
    audience: https://otp-middleware
    domain: fdot.auth0.com
    clientId: nQrAyaKjehXZWNaoraXogUEFI3X4hhnJ
  otp_middleware:
    # The server below must have CORS (cross-origin calls) enabled
    # (i.e. proper headers while sending response for GET and OPTIONS methods).
    # If apiBaseUrl is an AWS API, you an use the API resource editor
    # to set all applicable resources for CORS (remember to redeploy API when done).
    apiBaseUrl: https://nnxedhtje2.execute-api.us-east-1.amazonaws.com/dev
    apiKey: 76BzrlWozs7RRfKapCykt4sNO4tW4fVl1RcTDOnT

# Map config
map:
  # Enabled map views
  views:
    - type: DEFAULT
      text: Map View
    # Delete/uncomment the following block to disable the stylized map
    #- type: STYLIZED
    #  text: Network View

  # Default map center
  initLat: 28.535358
  initLon: -81.378984

  # Base layers for default map
  baseLayers:
    - name: Streets
      url: //api.tiles.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}@2x.png?access_token=pk.eyJ1IjoiaWJpLXRyYW5zaXQtZGF0YS10ZWFtIiwiYSI6ImNqeTV6ZDF5bzBiMzUzbms5dTlxajY0ZTkifQ.aMf9Ly3DKfx_m1-Ba_yTSA
      attribution: 'Street Map <a href="https://mapbox.com/about/maps">Terms & Feedback</a>'
      maxZoom: 20
      hasRetinaSupport: true

    # - name: Streets
    #   url: //tile{s}.trimet.org/tilecache/tilecache.py/1.0.0/currentOSM/{z}/{x}/{y}
    #   attribution: 'Map tiles: <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'
    #   maxZoom: 20

    # - name: Aerials
    #   url: //tile{s}.trimet.org/tilecache/tilecache.py/1.0.0/hybridOSM/{z}/{x}/{y}
    #   attribution: 'Map tiles: <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'
    #   maxZoom: 20

  overlays:
    # real-time vehicles config
    - type: vehicles
      name: Real-Time Buses and Trains
      api: https://maps.trimet.org/gtfs/rt/vehicles
      #pauseAnimationOnZoom: false # note: when true, MOD+vehicles has issues with multiple (additive) ws calls
      refresh: 5
      default: 'all'


    - type: zipcar
      name: Zipcar Locations
      api: https://newplanner.trimet.org/ws/carshare/zipcar/data.json

    - type: bike-rental
      name: BIKETOWN Locations
      modes:
        - BICYCLE_RENT
      mapSymbols:
        - maxZoom: 12
          minZoom: 0
          type: circle
          pixels: 3
          fillColor: "#FF2E28"
          dockStrokeColor: "#000000"
        - maxZoom: 15
          minZoom: 13
          type: circle
          pixels: 5
          fillColor: "#FF2E28"
          dockStrokeColor: "#000000"
        - maxZoom: 20
          minZoom: 16
          fillColor: "#FF2E28"
          dockStrokeColor: "#000000"
          type: hubAndFloatingBike

    - type: micromobility-rental
      name: Bird E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - BIRD
      mapSymbols:
        - maxZoom: 12
          minZoom: 0
          type: circle
          pixels: 3
          fillColor: "#656565"
          strokeColor: "#CCCCCC"
        - maxZoom: 15
          minZoom: 13
          type: circle
          pixels: 5
          fillColor: "#656565"
          strokeColor: "#CCCCCC"
        - maxZoom: 20
          minZoom: 16
          fillColor: "#656565"
          type: marker



    - type: micromobility-rental
      name: Lime E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - LIME
      mapSymbols:
        - maxZoom: 12
          minZoom: 0
          type: circle
          pixels: 3
          fillColor: "#656565"
          strokeColor: "#CCCCCC"
        - maxZoom: 15
          minZoom: 13
          type: circle
          pixels: 5
          fillColor: "#656565"
          strokeColor: "#CCCCCC"
        - maxZoom: 20
          minZoom: 16
          fillColor: "#656565"
          type: marker

    - type: micromobility-rental
      name: Razor E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - RAZOR
      mapSymbols:
        - maxZoom: 12
          minZoom: 0
          type: circle
          pixels: 3
          fillColor: "#656565"
          strokeColor: "#CCCCCC"
        - maxZoom: 15
          minZoom: 13
          type: circle
          pixels: 5
          fillColor: "#656565"
          strokeColor: "#CCCCCC"
        - maxZoom: 20
          minZoom: 16
          fillColor: "#656565"
          type: marker


    - type: micromobility-rental
      name: Spin E-scooter Locations
      modes:
        - MICROMOBILITY_RENT
      companies:
        - SPIN
      mapSymbols:
        - maxZoom: 12
          minZoom: 0
          type: circle
          pixels: 3
          fillColor: "#656565"
          strokeColor: "#CCCCCC"
        - maxZoom: 15
          minZoom: 13
          type: circle
          pixels: 5
          fillColor: "#656565"
          strokeColor: "#CCCCCC"
        - maxZoom: 20
          minZoom: 16
          fillColor: "#656565"
          type: marker

    - type: park-and-ride
      name: Park & Ride Locations
      maxTransitDistance: 1000
      modes:
        - CAR_PARK

    - type: stops
      name: Transit Stops
      visible: true



geocoder:
  baseUrl: https://ws-st.trimet.org/peliaswrap/v1
  maxNearbyStops: 6
  type: PELIAS
  boundary:
    rect:
      minLon: -82.5407
      maxLon: -80.4636
      minLat: 27.7702
      maxLat: 29.398


# Mode selector configuration
modes:
  transitModes:
    - mode: BUS
      label: Bus
    - mode: RAIL
      label: SunRail

  accessModes:
    - mode: BICYCLE
      label: Transit + Personal bike
    - mode: BICYCLE_RENT
      label: Transit + BIKETOWN
      company: BIKETOWN
    - mode: MICROMOBILITY_RENT
      label: Transit + E-scooter
    - mode: CAR_PARK
      label: Park & Ride
    - mode: CAR_HAIL
      label: Transit + Uber
      company: UBER
      showWheelchairSetting: false

  # which exclusive modes to show. This involves using a single mode and no
  # transit for the duration of the trip. Further configurations of
  # `bicycleModes`, `micromobilityModes` and/or `carModes` are needed as
  # desired, but no extra configuration is needed for a WALK exclusive mode.
  exclusiveModes:
    - WALK
    - BICYCLE

  bicycleModes:
    - mode: BICYCLE
      label: Own Bike
      iconWidth: 18
    - mode: BICYCLE_RENT
      label: BIKETOWN
      iconWidth: 36

# A list of private transportation operators. These are either companies that
# provide rental vehicles or transportation network companies. Companies that
# have multiple modes of transport should have all modes listed as a string with
# commas. For example: BICYCLE_RENT,MICROMOBILITY_RENT.
companies:
  - id: BIKETOWN
    label: BIKETOWN
    modes: BICYCLE_RENT
  - id: UBER
    label: Uber
    modes: CAR_HAIL

  - id: BIRD
    label: Bird
    modes: MICROMOBILITY_RENT
  - id: LIME
    label: Lime
    modes: MICROMOBILITY_RENT
  - id: RAZOR
    label: Razor
    modes: MICROMOBILITY_RENT
  - id: SPIN
    label: Spin
    modes: MICROMOBILITY_RENT

errorMessages:
  - id: 404
    msg: Sorry, we couldn't find any transit or rideshare/carshare options at the time and/or location you chose. Please try again later, or change the settings of your trip.
    modes:
      - CAR_HAIL
      - CAR_RENT
  - id: 405
    msg: Sorry, we couldn't find any transit or rideshare/carshare options at the time and/or location you chose. Please try again later, or change the settings of your trip.
    modes:
      - CAR_HAIL
      - CAR_RENT
  - id: 480
    msg: No available transit routes or rideshare/carshare service at origin.

reportIssue:
  mailto: hello@trimet.org

# TODO: Add GA
# analytics:
#   google:
#     globalSiteTag: UA-XXXXXXX

language:
  storageDisclaimer: Any preferences, places, or settings you opt to save will be stored in the local storage of your browser. TriMet will not have access to knowledge about your home, work, or any other location. At any point you can opt to turn off remembering recent places/searches and clear your saved home/work locations and favorite stops.
  routeViewer: Route Viewer
  tripViewer: Trip Viewer
  stopViewer: TransitTracker

dateTime:
  timeFormat: h:mm a
  dateFormat: MM/DD/YYYY
  longDateFormat: MMMM D, YYYY
